# Rafa Stacks Webinar #5: Smart Wallets & Composability

## Capsule Update

- **Runes Capsule is paused** — shipped the Stacks Foundation grant but didn't get enough market pull to continue
- Open-sourced code enables anyone to peg into Stacks from Runes L1 in one Bitcoin block
- Code is now an ecosystem asset (available for teams like Quantis to upgrade their architecture)
- Still believe in Runes as a fungible token standard on L1 and the properties bridging to L2 offers

## The Problem with Current Passkey Solutions

Apps like Poly Market and Moonshot use Face ID with third-party custodians (Turnkey, Privy):

1. Passkey signature from secure enclave doesn't work natively on ETH/Solana
2. Third parties map the passkey to a chain-native key (Bitcoin curve, etc.)
3. This adds a trust layer on top of WebAuthn

## Clarity 5 Changes Everything

**Native p256 support** means:

- Passkey signatures can be verified directly by contracts
- No third-party custodian needed for key mapping
- Clean path: biometrics → signature → smart wallet/contract

A facilitator is still needed to broadcast transactions, but the custodian is removed.

## Smart Wallet Use Cases

- **Session keys** — delegate limited signing authority
- **Spending thresholds** — e.g., $100/day via passkey, above that requires cooldown or second signature
- **Recovery systems** — designate a recovery principal to take over after inactivity period

## UX Leap

- No seed phrases
- Direct mobile onboarding
- Device secure enclave protects the passkey

## Building on Zest: One-Click Leverage

Example flow in a single passkey authentication:

1. Supply sBTC to Zest/Granite
2. Borrow USDCX
3. Swap on Bitflow
4. Resupply to improve health ratio

Traditional flow = multiple wallet confirmations. This = one click.

## Guardian Auto-Deleverage Feature

**Problem:** Liquidation penalties (~10%) hit hard in volatile markets

**Solution:** Code-governed guardian that auto-deleverages before liquidation

- User sets parameters (e.g., deleverage at 25% drop vs. liquidation at 30%)
- Acts as stop-loss / max drawdown
- "Set and forget"
- Can be toggled on/off

**Target user:** People who want simple, safe, risk-mitigated leverage — not traders maximizing everything.

## Beta Launch Plan

- Launching Pillar beta with Zest V1 contracts + Bitflow
- Goal: feedback loop before V2 launch (with USDCX liquidity)
- Next week: demo for beta users — passkey login + leveraged position
- Beta users invited to Telegram for feedback

## Ecosystem Need

The Stacks ecosystem needs a battle-tested library to bridge WebAuthn signature format to what Clarity contracts expect when Clarity 5 ships.
